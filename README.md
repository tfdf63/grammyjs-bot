# tgGrammyTickets - Telegram бот для отслеживания билетов

## Описание

Telegram бот для ФК "Акрон", который отслеживает информацию о билетах на матчи и автоматически отправляет ежедневные отчеты в указанный канал.

## Функциональность

### Основные команды

- `/start` - Запуск бота
- `/tickets` - Получение информации о билетах по всем матчам
- `/test_channel` - Тестирование отправки отчета в канал

### Автоматическая отправка отчетов

Бот автоматически отправляет отчеты о билетах **каждый день в 11:00 по самарскому времени (UTC+4)** в канал с ID: `-1002860653733`

## Установка и запуск

1. Установите зависимости:

```bash
npm install
```

2. Создайте файл `.env` с необходимыми переменными окружения:

```env
BOT_API_KEY=your_telegram_bot_token
BOT_TICKETS_LOGIN=your_tickets_login
BOT_TICKETS_PASSWORD=your_tickets_password
```

3. Запустите бота:

```bash
npm start
```

## Логирование

Все действия бота логируются в файл `logs/telegram-bot.log`, включая:

- Запросы пользователей
- Автоматические отправки отчетов
- Ошибки при работе

## Структура проекта

- `index.js` - Основной файл бота
- `matches.js` - Конфигурация матчей
- `logs/` - Директория с логами
- `package.json` - Зависимости проекта

## Технические детали

- Использует библиотеку Grammy для работы с Telegram Bot API
- Планировщик проверяет время каждую минуту
- Поддерживает HTML-форматирование в сообщениях
- Автоматически обновляет хеш авторизации для API билетов
